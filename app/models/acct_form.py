# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'acct_form.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets

ROWS = []


class Ui_AddStudentForm(object):
    def setupUi(self, AddStudentForm):
        AddStudentForm.setObjectName("AddStudentForm")
        AddStudentForm.resize(887, 518)
        AddStudentForm.setStyleSheet("background-color: rgb(119, 171, 255);")
        self.std_entry_form = QtWidgets.QGroupBox(AddStudentForm)
        self.std_entry_form.setGeometry(QtCore.QRect(0, 0, 381, 191))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.std_entry_form.setFont(font)
        self.std_entry_form.setStyleSheet("background-color: rgb(119, 171, 255);")
        self.std_entry_form.setObjectName("std_entry_form")
        self.formLayoutWidget = QtWidgets.QWidget(self.std_entry_form)
        self.formLayoutWidget.setGeometry(QtCore.QRect(10, 40, 351, 121))
        self.formLayoutWidget.setStyleSheet("background-color: rgb(119, 171, 255);")
        self.formLayoutWidget.setObjectName("formLayoutWidget")
        self.formLayout = QtWidgets.QFormLayout(self.formLayoutWidget)
        self.formLayout.setContentsMargins(0, 0, 0, 0)
        self.formLayout.setObjectName("formLayout")
        self.label_7 = QtWidgets.QLabel(self.formLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("MS Serif")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_7.setFont(font)
        self.label_7.setStyleSheet("background-color: rgb(119, 171, 255);")
        self.label_7.setObjectName("label_7")
        self.formLayout.setWidget(0, QtWidgets.QFormLayout.LabelRole, self.label_7)
        self.lineEdit_3 = QtWidgets.QLineEdit(self.formLayoutWidget)
        self.lineEdit_3.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.lineEdit_3.setObjectName("lineEdit_3")
        self.formLayout.setWidget(0, QtWidgets.QFormLayout.FieldRole, self.lineEdit_3)
        self.label = QtWidgets.QLabel(self.formLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("MS Serif")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label.setFont(font)
        self.label.setStyleSheet("background-color: rgb(119, 171, 255);")
        self.label.setObjectName("label")
        self.formLayout.setWidget(1, QtWidgets.QFormLayout.LabelRole, self.label)
        self.lineEdit = QtWidgets.QLineEdit(self.formLayoutWidget)
        self.lineEdit.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.lineEdit.setObjectName("lineEdit")
        self.formLayout.setWidget(1, QtWidgets.QFormLayout.FieldRole, self.lineEdit)
        self.label_4 = QtWidgets.QLabel(self.formLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("MS Serif")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_4.setFont(font)
        self.label_4.setStyleSheet("background-color: rgb(119, 171, 255);")
        self.label_4.setObjectName("label_4")
        self.formLayout.setWidget(2, QtWidgets.QFormLayout.LabelRole, self.label_4)
        self.lineEdit_2 = QtWidgets.QLineEdit(self.formLayoutWidget)
        self.lineEdit_2.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.lineEdit_2.setObjectName("lineEdit_2")
        self.formLayout.setWidget(2, QtWidgets.QFormLayout.FieldRole, self.lineEdit_2)
        self.label_5 = QtWidgets.QLabel(self.formLayoutWidget)
        font = QtGui.QFont()
        font.setFamily("MS Serif")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_5.setFont(font)
        self.label_5.setStyleSheet("background-color: rgb(119, 171, 255);")
        self.label_5.setObjectName("label_5")
        self.formLayout.setWidget(3, QtWidgets.QFormLayout.LabelRole, self.label_5)
        self.lineEdit_5 = QtWidgets.QLineEdit(self.formLayoutWidget)
        self.lineEdit_5.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.lineEdit_5.setObjectName("lineEdit_5")
        self.formLayout.setWidget(3, QtWidgets.QFormLayout.FieldRole, self.lineEdit_5)
        self.prt_enrty_form = QtWidgets.QGroupBox(AddStudentForm)
        self.prt_enrty_form.setGeometry(QtCore.QRect(80, 240, 781, 261))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.prt_enrty_form.setFont(font)
        self.prt_enrty_form.setStyleSheet("background-color: rgb(119, 171, 255);")
        self.prt_enrty_form.setObjectName("prt_enrty_form")
        self.tableWidget = QtWidgets.QTableWidget(self.prt_enrty_form)
        self.tableWidget.setGeometry(QtCore.QRect(10, 31, 761, 221))
        self.tableWidget.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.tableWidget.setObjectName("tableWidget")
        self.tableWidget.setColumnCount(7)
        self.tableWidget.setRowCount(0)
        item = QtWidgets.QTableWidgetItem()
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        item.setFont(font)
        self.tableWidget.setHorizontalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        item.setFont(font)
        self.tableWidget.setHorizontalHeaderItem(1, item)
        item = QtWidgets.QTableWidgetItem()
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        item.setFont(font)
        self.tableWidget.setHorizontalHeaderItem(2, item)
        item = QtWidgets.QTableWidgetItem()
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        item.setFont(font)
        self.tableWidget.setHorizontalHeaderItem(3, item)
        item = QtWidgets.QTableWidgetItem()
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        item.setFont(font)
        self.tableWidget.setHorizontalHeaderItem(4, item)
        item = QtWidgets.QTableWidgetItem()
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        item.setFont(font)
        self.tableWidget.setHorizontalHeaderItem(5, item)
        item = QtWidgets.QTableWidgetItem()
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        item.setFont(font)
        self.tableWidget.setHorizontalHeaderItem(6, item)
        self.frame = QtWidgets.QFrame(AddStudentForm)
        self.frame.setGeometry(QtCore.QRect(420, 120, 381, 61))
        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame.setObjectName("frame")
        self.horizontalLayoutWidget = QtWidgets.QWidget(self.frame)
        self.horizontalLayoutWidget.setGeometry(QtCore.QRect(20, 10, 321, 41))
        self.horizontalLayoutWidget.setObjectName("horizontalLayoutWidget")
        self.horizontalLayout = QtWidgets.QHBoxLayout(self.horizontalLayoutWidget)
        self.horizontalLayout.setContentsMargins(0, 0, 0, 0)
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.label_2 = QtWidgets.QLabel(self.horizontalLayoutWidget)
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_2.setFont(font)
        self.label_2.setObjectName("label_2")
        self.horizontalLayout.addWidget(self.label_2)
        self.sort_acct_combo = QtWidgets.QComboBox(self.horizontalLayoutWidget)
        self.sort_acct_combo.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.sort_acct_combo.setObjectName("sort_acct_combo")
        self.sort_acct_combo.addItem("")
        self.sort_acct_combo.addItem("")
        self.sort_acct_combo.addItem("")
        self.horizontalLayout.addWidget(self.sort_acct_combo)
        self.horizontalLayoutWidget_2 = QtWidgets.QWidget(AddStudentForm)
        self.horizontalLayoutWidget_2.setGeometry(QtCore.QRect(400, 10, 381, 51))
        self.horizontalLayoutWidget_2.setObjectName("horizontalLayoutWidget_2")
        self.horizontalLayout_2 = QtWidgets.QHBoxLayout(self.horizontalLayoutWidget_2)
        self.horizontalLayout_2.setContentsMargins(0, 0, 0, 0)
        self.horizontalLayout_2.setObjectName("horizontalLayout_2")
        self.term_button = QtWidgets.QPushButton(self.horizontalLayoutWidget_2, clicked=lambda: self.set_term())
        font = QtGui.QFont()
        font.setBold(True)
        font.setWeight(75)
        self.term_button.setFont(font)
        self.term_button.setObjectName("term_button")
        self.horizontalLayout_2.addWidget(self.term_button)
        self.term_combo = QtWidgets.QComboBox(self.horizontalLayoutWidget_2)
        self.term_combo.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.term_combo.setObjectName("term_combo")
        self.term_combo.addItem("", 1)
        self.term_combo.addItem("", 2)
        self.term_combo.addItem("", 3)
        self.horizontalLayout_2.addWidget(self.term_combo)
        self.year_combo = QtWidgets.QComboBox(self.horizontalLayoutWidget_2)
        self.year_combo.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.year_combo.setObjectName("year_combo")
        self.year_combo.addItem("")
        self.year_combo.addItem("")
        self.year_combo.addItem("")
        self.horizontalLayout_2.addWidget(self.year_combo)
        self.label_Term = QtWidgets.QLabel(AddStudentForm)
        self.label_Term.setGeometry(QtCore.QRect(420, 70, 241, 41))
        font = QtGui.QFont()
        font.setPointSize(26)
        font.setBold(True)
        font.setWeight(75)
        self.label_Term.setFont(font)
        self.label_Term.setStyleSheet("background-color: rgb(119, 171, 255);")
        self.label_Term.setObjectName("label_Term")
        self.payment_button = QtWidgets.QPushButton(AddStudentForm)
        self.payment_button.setGeometry(QtCore.QRect(70, 190, 119, 27))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.payment_button.setFont(font)
        self.payment_button.setStyleSheet("background-color: rgb(125, 205, 127);")
        self.payment_button.setObjectName("payment_button")
        self.gen_receipt_button = QtWidgets.QPushButton(AddStudentForm)
        self.gen_receipt_button.setGeometry(QtCore.QRect(230, 190, 119, 27))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.gen_receipt_button.setFont(font)
        self.gen_receipt_button.setStyleSheet("background-color: rgb(125, 205, 127);")
        self.gen_receipt_button.setObjectName("gen_receipt_button")
        self.display_button = QtWidgets.QPushButton(AddStudentForm, clicked=lambda:self.display())
        self.display_button.setGeometry(QtCore.QRect(490, 190, 102, 27))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.display_button.setFont(font)
        self.display_button.setStyleSheet("background-color: rgb(125, 205, 127);")
        self.display_button.setObjectName("display_button")
        self.gen_list_button = QtWidgets.QPushButton(AddStudentForm)
        self.gen_list_button.setGeometry(QtCore.QRect(620, 190, 119, 27))
        font = QtGui.QFont()
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.gen_list_button.setFont(font)
        self.gen_list_button.setStyleSheet("background-color: rgb(125, 205, 127);")
        self.gen_list_button.setObjectName("gen_list_button")

        self.retranslateUi(AddStudentForm)
        QtCore.QMetaObject.connectSlotsByName(AddStudentForm)

    def retranslateUi(self, AddStudentForm):
        _translate = QtCore.QCoreApplication.translate
        AddStudentForm.setWindowTitle(_translate("AddStudentForm", "Manage Accounts"))
        self.std_entry_form.setTitle(_translate("AddStudentForm", "Add student Payment"))
        self.label_7.setText(_translate("AddStudentForm", "Student id:"))
        self.label.setText(_translate("AddStudentForm", "First name:"))
        self.label_4.setText(_translate("AddStudentForm", "Surname:"))
        self.label_5.setText(_translate("AddStudentForm", "Amount:"))
        self.prt_enrty_form.setTitle(_translate("AddStudentForm", "Preview"))
        item = self.tableWidget.horizontalHeaderItem(0)
        item.setText(_translate("AddStudentForm", "Std ID"))
        item = self.tableWidget.horizontalHeaderItem(1)
        item.setText(_translate("AddStudentForm", "Firstname"))
        item = self.tableWidget.horizontalHeaderItem(2)
        item.setText(_translate("AddStudentForm", "Surname"))
        item = self.tableWidget.horizontalHeaderItem(3)
        item.setText(_translate("AddStudentForm", "Paid"))
        item = self.tableWidget.horizontalHeaderItem(4)
        item.setText(_translate("AddStudentForm", "Balance"))
        item = self.tableWidget.horizontalHeaderItem(5)
        item.setText(_translate("AddStudentForm", "Address"))
        item = self.tableWidget.horizontalHeaderItem(6)
        item.setText(_translate("AddStudentForm", "Contact"))
        self.label_2.setText(_translate("AddStudentForm", "Sort by: "))
        self.sort_acct_combo.setItemText(0, _translate("AddStudentForm", "Fully paid"))
        self.sort_acct_combo.setItemText(1, _translate("AddStudentForm", "Balances"))
        self.sort_acct_combo.setItemText(2, _translate("AddStudentForm", "No payment"))
        self.term_button.setText(_translate("AddStudentForm", "Select Term/Year"))
        self.term_combo.setItemText(0, _translate("AddStudentForm", "Term 1"))
        self.term_combo.setItemText(1, _translate("AddStudentForm", "Term 2"))
        self.term_combo.setItemText(2, _translate("AddStudentForm", "Term 3"))
        self.year_combo.setItemText(0, _translate("AddStudentForm", "2021"))
        self.year_combo.setItemText(1, _translate("AddStudentForm", "2022"))
        self.year_combo.setItemText(2, _translate("AddStudentForm", "2023"))
        self.label_Term.setText(_translate("AddStudentForm", "Term: "))
        self.payment_button.setText(_translate("AddStudentForm", "Add Payment"))
        self.gen_receipt_button.setText(_translate("AddStudentForm", "Receipt"))
        self.display_button.setText(_translate("AddStudentForm", "Display"))
        self.gen_list_button.setText(_translate("AddStudentForm", "Generate List"))

    def set_term(self):
        self.label_Term.setText(f'Term: {self.term_combo.currentData()} {self.year_combo.currentText()}')

    def display(self):
        try:
            if self.sort_acct_combo.currentText() == "Fully paid":
                self.load_data("fully_paid")
            elif self.sort_acct_combo.currentText() == "Balances":
                self.load_data("balances")
            elif self.sort_acct_combo.currentText() == "No payment":
                self.load_data("no_payment")
            else:
                print("combo data not selected")
        except Exception as e:
            print(e)
    # display accounts
    def load_data(self, mode):
        try:
            import csv
            file = 'C:\\Users\\USER\\Documents\\student.csv'
            with open(file, 'r') as file:
                csv_reader = csv.DictReader(file)
                for std in csv_reader:
                    ROWS.append(std)

            if mode == 'fully_paid':
                print("showing fully paid")
                row = 0
                self.tableWidget.setRowCount(len(ROWS))
                for std in ROWS:
                    tut = int(std["tuition"])
                    balance = str(4000 - tut)
                    if tut >= 4000:
                        self.tableWidget.setItem(row, 0, QtWidgets.QTableWidgetItem(std["std_id"]))
                        self.tableWidget.setItem(row, 1, QtWidgets.QTableWidgetItem(std["firstname"]))
                        self.tableWidget.setItem(row, 2, QtWidgets.QTableWidgetItem(std["surname"]))
                        self.tableWidget.setItem(row, 3, QtWidgets.QTableWidgetItem(std["tuition"]))
                        self.tableWidget.setItem(row, 4, QtWidgets.QTableWidgetItem(balance))
                        # self.tableWidget.setItem(row, 5, QtWidgets.QTableWidgetItem(std["class"]))
                        self.tableWidget.setItem(row, 5, QtWidgets.QTableWidgetItem(std["address"]))
                        self.tableWidget.setItem(row, 6, QtWidgets.QTableWidgetItem(std["mobile"]))
                        row += 1

            elif mode == "balances":
                print("showing balances")
                row = 0
                self.tableWidget.setRowCount(len(ROWS))
                for std in ROWS:
                    tut = int(std["tuition"])
                    balance = str(4000 - tut)
                    if 0 < tut < 4000:
                        self.tableWidget.setItem(row, 0, QtWidgets.QTableWidgetItem(std["std_id"]))
                        self.tableWidget.setItem(row, 1, QtWidgets.QTableWidgetItem(std["firstname"]))
                        self.tableWidget.setItem(row, 2, QtWidgets.QTableWidgetItem(std["surname"]))
                        self.tableWidget.setItem(row, 3, QtWidgets.QTableWidgetItem(std["tuition"]))
                        self.tableWidget.setItem(row, 4, QtWidgets.QTableWidgetItem(balance))
                        # self.tableWidget.setItem(row, 5, QtWidgets.QTableWidgetItem(std["class"]))
                        self.tableWidget.setItem(row, 5, QtWidgets.QTableWidgetItem(std["address"]))
                        self.tableWidget.setItem(row, 6, QtWidgets.QTableWidgetItem(std["mobile"]))
                        row += 1
            elif mode == "no_payment":
                print("showing non paid")
                row = 0
                self.tableWidget.setRowCount(len(ROWS))
                for std in ROWS:
                    tut = int(std["tuition"])
                    balance = str(4000 - tut)
                    if tut < 1:
                        self.tableWidget.setItem(row, 0, QtWidgets.QTableWidgetItem(std["std_id"]))
                        self.tableWidget.setItem(row, 1, QtWidgets.QTableWidgetItem(std["firstname"]))
                        self.tableWidget.setItem(row, 2, QtWidgets.QTableWidgetItem(std["surname"]))
                        self.tableWidget.setItem(row, 3, QtWidgets.QTableWidgetItem(std["tuition"]))
                        self.tableWidget.setItem(row, 4, QtWidgets.QTableWidgetItem(balance))
                        # self.tableWidget.setItem(row, 5, QtWidgets.QTableWidgetItem(std["class"]))
                        self.tableWidget.setItem(row, 5, QtWidgets.QTableWidgetItem(std["address"]))
                        self.tableWidget.setItem(row, 6, QtWidgets.QTableWidgetItem(std["mobile"]))
                        row += 1

        except Exception as e:
            print("Something went wrong in loading data")
            print(e)


if __name__ == "__main__":
    import sys

    app = QtWidgets.QApplication(sys.argv)
    AddStudentForm = QtWidgets.QWidget()
    ui = Ui_AddStudentForm()
    ui.setupUi(AddStudentForm)
    AddStudentForm.show()
    sys.exit(app.exec_())
